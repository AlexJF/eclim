<?xml version="1.0" encoding="UTF-8"?>
<!--
  - Copyright (c) 2005 - 2008
  -
  - Licensed under the Apache License, Version 2.0 (the "License");
  - you may not use this file except in compliance with the License.
  - You may obtain a copy of the License at
  -
  -      http://www.apache.org/licenses/LICENSE-2.0
  -
  - Unless required by applicable law or agreed to in writing, software
  - distributed under the License is distributed on an "AS IS" BASIS,
  - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  - See the License for the specific language governing permissions and
  - limitations under the License.
  -
  - Author: Eric Van Dewoestine
  -->
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN"
  "http://forrest.apache.org/dtd/document-v20.dtd">

<document>
  <header>
    <title>Validation</title>
    <authors>
      <person name="Eric Van Dewoestine" email="ervandew@gmail.com"/>
    </authors>
  </header>
  <body>
    <p>
      When editing a javascript file eclim will default to validating the file
      when it is written.  Any errors will be added to the current window's
      location list (:help location-list) and their corresponding line number
      noted via Vim's sign functionality.
    </p>
    <p>
      Javascript validation currently uses
      <a href="site:jsl">JavaScript Lint</a> to perform the validation.  To use
      it you will need to first install JavaScript Lint and put it in your
      path.<br/>
      Installing on windows and the mac should be very straight forward since
      pre-compiled version for each are available for download on the
      <a href="site:jsl">JavaScript Lint</a> site.  For other unix based systems
      (linux, bsd, etc.) the installation procedure is not so obvious.  Here are
      the steps used to compile and install it on a linux machine (your paths
      may vary):
    </p>
    <source>
      $ cd js-&lt;version&gt;/src
      $ make -f Makefile.ref

      # this path will undoubtedly vary on non-linux machines, so watch the
      # make output for the real destination.
      $ sudo cp Linux_All_DBG.OBJ/jsl /usr/local/bin
    </source>
    <note>
      Javascript validation does not currently require that the file exist in an
      Eclipse project, but this may change in the future.
    </note>
    <p>
      If you don't want javascript files validated when saving them, you can set
      the g:EclimJavascriptValidate variable described in the configuration
      section below.
    </p>
    <p>
      Regardless of whether you have validation enabled upon saving or not, the
      following command is still available for validating xml files on demand.
    </p>
    <anchor id="Validate"/>
    <p>
      <strong>:Validate</strong><br/>
      Validate the current file.
    </p>
    <p>
      <strong>Configuration</strong>
    </p>
    <p>
      Vim Variables
    </p>
    <ul>
      <li>
        <anchor id="EclimJavascriptValidate"/>
        <strong>g:EclimJavascriptValidate</strong><br/>
        If set to 0, disables javascript validation when saving the file.
      </li>
      <li>
        <anchor id="EclimJavascriptLintConf"/>
        <strong>g:EclimJavascriptLintConf</strong> (Default: '~/.jslrc')<br/>
        Used to set the location of your jsl config file.
      </li>
    </ul>
  </body>
</document>
