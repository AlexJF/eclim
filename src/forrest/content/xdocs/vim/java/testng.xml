<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright (c) 2005 - 2008

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN"
  "http://forrest.apache.org/dtd/document-v20.dtd">
<!--
 Author: Eric Van Dewoestine
-->

<document>
  <header>
    <title>TestNG</title>
    <authors>
      <person name="Eric Van Dewoestine" email="ervandew@gmail.com"/>
    </authors>
  </header>
  <body>
    <p>
      Currently eclim's support for <a href="ext:testng">TestNG</a> is limited
      to supporting Vim's :make in conjunction with ant to populate vim's
      quickfix results with failed test cases.
    </p>
    <p>
      By default TestNG's output to the console is very terse.  So in order to
      support monitoring of failed test cases via vim's error format, eclim
      provides a custom TestNG listener which must be installed into your build
      environment.
    </p>
    <ol>
      <li>
        The first step is to place the <code>eclim-misc.jar</code> file in your
        TestNG classpath you have configured for ant.  You can find this jar
        file in your $ECLIPSE_HOME/plugins/org.eclim_<em>version</em>/
        directory.
      </li>
      <li>
        The second step is to add the <code>listener</code> attribute to your
        testng task which references the required eclim testng listener:
        <source>
          <![CDATA[
            ...
          <testng ... listener="org.eclim.misc.testng.TestNgListener">
            ...
          ]]>
        </source>
        See the <a href="http://testng.org/doc/ant.html">testng ant task docs</a>
        for more information.
      </li>
    </ol>
    <p>
      Once you have completed that setup, you should then be able to run your
      ant target from vim and (as long as eclim is running) all failed test
      cases will be added to your vim quickfix results.
    </p>
    <p>
      Ex. Assuming your ant task is named 'test':
    </p>
    <source>
      :Ant test
    </source>
  </body>
</document>
