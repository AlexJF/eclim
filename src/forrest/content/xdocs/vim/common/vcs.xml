<?xml version="1.0" encoding="UTF-8"?>
<!--
  - Copyright (c) 2005 - 2008
  -
  - Licensed under the Apache License, Version 2.0 (the "License");
  - you may not use this file except in compliance with the License.
  - You may obtain a copy of the License at
  -
  -      http://www.apache.org/licenses/LICENSE-2.0
  -
  - Unless required by applicable law or agreed to in writing, software
  - distributed under the License is distributed on an "AS IS" BASIS,
  - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  - See the License for the specific language governing permissions and
  - limitations under the License.
  -
  - Author: Eric Van Dewoestine
  -->
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN"
  "http://forrest.apache.org/dtd/document-v20.dtd">
<!--
 Author: Eric Van Dewoestine
-->

<document>
  <header>
    <title>Version Control System Commands</title>
    <authors>
      <person name="Eric Van Dewoestine" email="ervandew@gmail.com"/>
    </authors>
  </header>
  <body>
    <p>
      The following is a list of commands that may be execute when viewing a
      file versioned in either cvs or subversion.
    </p>
    <ul>
      <li>
        <anchor id="Viewvc"/>
        <strong>:Viewvc</strong> [file] -
        Opens the <a href="site:viewvc">ViewVc</a> url to the supplied file or
        directory, or to the current buffer if no argument supplied. Requires
        that the property 'org.eclim.project.vcs.viewvc' be set to the root url
        of your ViewVC instance such that any project relative path can be
        appended to it to render a valid url.<br/>
        Ex.
        <source>
          org.eclim.project.vcs.viewvc=http://eclim.svn.sourceforge.net/viewvc/eclim/
        </source>
      </li>
      <li>
        <anchor id="ViewvcAnnotate"/>
        <strong>:ViewvcAnnotate</strong> [revision] -
        Opens the <a href="site:viewvc">ViewVc</a> url for the current file in
        the annotation view for the last committed revision or the revision
        supplied.
      </li>
      <li>
        <anchor id="ViewvcChangeSet"/>
        <strong>:ViewvcChangeSet</strong> [revision] -
        Opens the <a href="site:viewvc">ViewVc</a> url for the change set of
        the last committed revision of the current file or the revision
        supplied.
      </li>
      <li>
        <anchor id="ViewvcDiff"/>
        <strong>:ViewvcDiff</strong> [revision, revision] -
        Opens the <a href="site:viewvc">ViewVc</a> url for the current file's
        revision diffed against the previous revision, the revision supplied,
        or a diff of the two revision numbers supplied.
      </li>
      <li>
        <anchor id="VcsAnnotate"/>
        <strong>:VcsAnnotate</strong> -
        This command will run the corresponding 'cvs annotate' or 'svn annotate'
        and annotate the current file via vim's sign support.  Due to vim
        limiting sign text to a maximum of two characters, the sign text will be
        the first two characters of the username.  This command will also create
        a CursorHold event which will echo the version number and full author
        name for the current annotated line.
      </li>
      <li>
        <anchor id="VcsAnnotateOff"/>
        <strong>:VcsAnnotateOff</strong> -
        Turns any current annotations off by removing all vim signs and
        disabling the CursorHold event.
      </li>
      <li>
        <anchor id="VcsInfo"/>
        <strong>:VcsInfo</strong> -
        Echos vcs info about the currently versioned file.
      </li>
    </ul>

    <note>
      Currently only subversion is supported by the following commands.
    </note>
    <ul>
      <li>
        <anchor id="VcsLog"/>
        <strong>:VcsLog</strong> -
        Opens a buffer with svn log information for the current file.<br/>
        In this buffer you can perform various operations (diff, annotate, view
        log for another file, etc.) by hitting &lt;Return&gt; on any of the text
        links denoted by <strong>|link name|</strong> (ex.
        <strong>|annotate|</strong>).
        <br/><br/>
        By default the number of entries retrieved will be limited to 50 in an
        effort to reduce the latency of retrieving logs for files with a long
        revision history.  This value can be changed via the
        <a href="#EclimVcsLogMaxEntries">g:EclimVcsLogMaxEntries</a> variable.
      </li>
      <li>
        <anchor id="VcsChangeSet"/>
        <strong>:VcsChangeSet</strong> [revision] -
        Opens a buffer with svn change set information for the supplied
        repository version or the current revision of the currently open
        file.<br/>
        Like <strong>:VcsLog</strong>, this buffer will contain text links which
        allow you to perform other operations.
      </li>
      <li>
        <anchor id="VcsDiff"/>
        <strong>:VcsDiff</strong> [revision] -
        Performs a vertical diffsplit of the current file against the last
        committed revision of the current file or the revision supplied.
      </li>
      <li>
        <anchor id="VcsCat"/>
        <strong>:VcsCat</strong> [revision] -
        Splits the current file with the contents of the last committed version
        of the current file or the supplied revision.
      </li>
    </ul> <!-- }}} -->
    <p>
      <strong>Configuration</strong>
    </p>
    <p>
      Vim Settings:
    </p>
    <ul>
      <li>
        <anchor id="EclimVcsLogMaxEntries"/>
        <strong>g:EclimVcsLogMaxEntries (Default: 50)</strong><br/>
        When greater than 0, limits the number of log entries retrieved by
        <strong>:VcsLog</strong>.
      </li>
    </ul>
    <p>
      Eclim Settings:
    </p>
    <ul>
      <li>
        <anchor id="org.eclim.project.vcs.viewvc"/>
        <strong>org.eclim.project.vcs.viewvc</strong><br/>
        Base url from which ViewVC urls can be constructed for project relative files.
      </li>
      <li>
        <anchor id="org.eclim.project.vcs.tracker"/>
        <strong>org.eclim.project.vcs.tracker</strong><br/>
        Url used to view tickets in your ticket tracking software. This url
        supports the '&lt;id&gt;' placeholder which will be replaced with the
        ticket id.<br/>
        Ex. An example setting for a Trac installation:<br/>
        <source>
          org.eclim.project.vcs.tracker=http://somedomain.com/trac/ticket/&lt;id&gt;
        </source>
        Currently this setting is only used in conjunction with
        <strong>:VcsLog</strong> and <strong>:VcsChangeSet</strong> to enable
        linking of ticket ids of the form #ticket_id (#1234) found in user
        supplied commit comments.
      </li>
    </ul>
  </body>
</document>
