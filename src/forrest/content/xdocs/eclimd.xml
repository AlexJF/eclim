<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright (c) 2005 - 2006

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN"
  "http://forrest.apache.org/dtd/document-v20.dtd">
<!--
 Author: Eric Van Dewoestine
-->

<document>
  <header>
    <title>Eclimd</title>
    <authors>
      <person name="Eric Van Dewoestine" email="ervandew@yahoo.com"/>
    </authors>
  </header>
  <body>

    <section id="startup">
      <title>Starting eclimd</title>
      <p>
        <strong>Linux</strong>:  To start eclimd from linux, simply execute the
        eclimd script found in
        $ECLIPSE_HOME/plugins/org.eclim_<em>version</em>/bin.
      </p>
      <p>
        <strong>Windows</strong>: The easiest way to start eclimd in windows is
        to double click on the eclimd.bat file found in
        $ECLIPSE_HOME/plugins/org.eclim_<em>version</em>/bin.
      </p>
    </section>

    <section id="shutdown">
      <title>Stopping eclimd</title>
      <p>
        To cleanly shutdown eclim use any one of the following.
      </p>
      <ul>
        <li>
          From Vim:
          <source>
            :ShutdownEclim
          </source>
        </li>
        <li>
          From a console:
          <source>
            $ECLIPSE_HOME/plugins/org.eclim_<em>version</em>/bin/eclim -command shutdown
          </source>
        </li>
        <li>
          Lastly you can use Ctrl-C at the console if you are running eclimd in
          the foreground, or issue a kill to the eclimd java process.
          <source>
            $ kill <em>pid</em>
          </source>
          You will need to kill the java process since killing the eclimd or
          eclipse process will not do so.  While eclim provides a shutdown hook
          to support a clean shutdown when the java process is killed in this
          manner, it is still recommended that you utilize one of the first two
          methods instead, and reserve this as a last resort. Also note that
          when killing the java process eclipse will pop up an alert dialog
          notifying you that the java process was terminated underneath it.
          This is nothing to be alarmed about.
        </li>
      </ul>
    </section>

    <section id="eclimrc">
      <title>~/.eclimrc</title>
      <p>
        On unix platforms eclim supports an optional .eclimrc file located in
        your home directory.  In this file you may supply any system properties
        which you would like passed to eclimd at startup.  The format of this
        file is the same as the standard java properties file format.
      </p>
      <p>
        Ex.
      </p>
      <source>
        # Specifies the port that nailgun / eclim listens on for client requests.
        nailgun.server.port=10012

        # Specifies the workspace directory to use
        # See $ECLIPSE_HOME/configuration/config.ini for other osgi properties.
        osgi.instance.area.default=@user.home/myworkspace
      </source>
      <p>
        The eclim client will also utilize this file, but only to determine the
        nailgun server port should you choose to change the default.
      </p>
      <note>
        Your system must have <strong>sed</strong> available so that eclim can
        process your .eclimrc file.
      </note>
    </section>

    <section id="log">
      <title>eclimd logging</title>
      <p>
        Eclimd utilizes log4j for all of its logging.  As such, the logging can
        be configured via the
        $ECLIPSE_HOME/plugins/org.eclim_<em>version</em>/log4j.xml file.
      </p>
      <p>
        By default, eclimd writes all logging info to both the console and
        $ECLIPSE_HOME/plugins/org.eclim_<em>version</em>/log/eclimd.log.
      </p>
    </section>

  </body>
</document>
