<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright (c) 2005 - 2006

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN"
  "http://forrest.apache.org/dtd/document-v20.dtd">
<!--
 Author: Eric Van Dewoestine
-->

<document>
  <header>
    <title>Ivy: Maintaining Java Classpath</title>
    <authors>
      <person name="Eric Van Dewoestine" email="ervandew@yahoo.com"/>
    </authors>
  </header>
  <body>
    <p>
      For users of <a href="ext:ivy">ivy</a>, eclim provides support for auto
      updating the <code>.classpath</code> for your project every time you save
      your ivy.xml file.  Any entries found in the ivy.xml that are not in the
      <code>.classpath</code> will be added, any entries that differ in
      version will be updated, and any stale entries deleted.
    </p>
    <section id="setup">
      <title>Initial Setup</title>
      <anchor id="IvyRepo"/>
      <p>
        Before you can start utilizing this auto updating support, you must first
        set the location of your ivy repository (ivy cache).  This is the
        directory where ivy will download the dependencies to and where eclipse
        will then pick them up to be added to your project's classpath.
      </p>
      <p>
        To set the repository location you can use the <strong>:IvyRepo</strong>
        command which is made available when editing an ivy.xml file.
      </p>
      <source>
        :IvyRepo /path/to/ivy/repository
      </source>
      <p>
        If you fail to set this prior to writing the ivy.xml file, eclim will emit
        an error notifying you that you first need to set the IVY_REPO variable
        via this command.
      </p>
    </section>
    <section id="classpath">
      <title>Updating .classpath</title>
      <p>
        Once you have performed the <a href="#setup">initial setup</a>,
        updating the Eclipse <code>.classpath</code> file is as easy as
        saving your ivy.xml file (:w) and letting eclim do the rest.
      </p>
    </section>
    <section>
      <title>Preserving manually added entries</title>
      <p>
        When utilizing the ivy support, eclim will attempt to remove any stale
        entries from your .classpath file.  If you have some manually added
        entries, these may be removed as well.  To prevent this you can add a
        classpath entry attribute notifying eclim that the entry should be
        preserved.<br/>
        Ex.
      </p>
      <source>
        <![CDATA[
        <classpathentry kind="lib" path="lib/j2ee-1.4.jar">
          <attributes>
            <attribute name="eclim.preserve" value="true"/>
          </attributes>
        </classpathentry>
        ]]>
      </source>
    </section>
  </body>
</document>
